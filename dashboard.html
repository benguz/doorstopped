<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title>Doorstop Education</title>
    <meta name="title" content="Doorstop Education">
    <meta name="description" content="Inspiring student agency nationwide.">
    <meta property="og:url" content="https://doorstopped.org/">
    <meta property="og:image" content="https://doorstopped.org/og.jpg">
    <meta name="twitter:image" content="https://doorstopped.org/og.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:title" content="Doorstop Education">
    <meta property="og:description" content="Inspiring student agency nationwide.">
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://doorstopped.org/">
    <meta property="twitter:title" content="Doorstop Education">
    <meta property="twitter:description" content="Inspiring student agency nationwide.">
    <link href="./favicon.ico" rel="apple-touch-icon">
    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">

    <!-- include jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- include jQuery UI -->
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

    <!-- Hammer JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>

    <link href="css/styles.css" rel="stylesheet">
    <link href="/essentialstyles.css" rel="stylesheet">

  </head>

<body>
    
    <div id="container">
<!-- https://docs.google.com/document/d/11P4QWkMnrIncEmLfpRdEkfbRcX5yBMJOPBnduFPxgGE/edit -->
        <div class="card" style="display: none;">
            <h2>More coming soon!</h2>
            <img src="" alt="image2" />
            <p></p>
        </div>
        <div class="card" data-link="/doorstops/shift.html" style="display: none;">
            <h2>Judgey People</h2>
            <p>Cliques and drama to an extreme</p>
        </div>
      <div class="card" data-link="/doorstops/shift.html" style="display: none;">
            <h2>Bullying</h2>
            <p>Straight up.</p>
        </div>
      <div class="card" data-link="/doorstops/shift.html#outlet" style="display: none;">
            <h2>Violence</h2>
            <p>People hiding in the bathroom</p>
        </div>
      <div class="card" data-link="/doorstops/shift.html#clout" style="display: none;">
            <h2>Small jabs</h2>
            <p>insults in the halls, middle school shit</p>
        </div>
              <div class="card" data-link="/doorstops/shift.html#referent" style="display: none;"> 
            <h2>Harrassment</h2>
            <p>Guys do awful shit to girls, nobody says anything.</p>
        </div>
              <div class="card" data-link="/time.html" style="display: none;">
            <h2>Nobody shows up</h2>
            <p>because the school is awful</p>
        </div>
              <div class="card" data-link="/emotionwords.html" style="display: none;">
            <h2>Emotional unavailability</h2>
            <p>*cough* men</p>
        </div>
              <div class="card" data-link="/doorstops/teachit.html" style="display: none;">
            <h2>Boredom</h2>
            <p>Window-Staring 101</p>
        </div>
              <div class="card" data-link="doorstops/shift.html#enemy" style="display: none;"> 
                <!--link to doorstopfellows in the future-->
            <h2>Apathy</h2>
            <p>Nobody gives a fuck.</p>
        </div>
              <div class="card" data-link="/programs/conversations" style="display: none;">
            <h2>Nobody respects teachers</h2>
            <p>So class gets loud</p>
        </div>
              <div class="card" data-link="/doorstops/listen.html" style="display: none;">
            <h2>Anxiety</h2>
            <p>Feet tapping all class</p>
        </div>
              <div class="card" data-link="/doorstops/care.html" style="display: none;">
            <h2>Insecurity</h2>
            <p>Smart people think they’re dumb</p>
        </div>
        <div class="card" data-link="/doorstops/shift.html" style="display: none;">
            <h2>Students are all {negative emotion}</h2>
            <p>Straight up.</p>
        </div>
              <div class="card" data-link="/doorstops/shift.html#" style="display: none;">
            <h2>Competitiveness</h2>
            <p>wha- wha- whadidya get?!</p>
        </div>
            
              <div class="card" data-link="/doorstops/radical.html" style="display: none;">
            <h2>Powerlessness</h2>
            <p>You feel trapped at your desk</p>
        </div>
              <div class="card" data-link="/doorstops/shift.html" style="display: none;">
            <h2>Racism tolerated or endorsed.</h2>
            <p>People transfer schools because of it.</p>
        </div>
              <div class="card" data-link="/programs/phones.html" style="display: none;">
            <h2>Admin don't communicate</h2>
            <p>“a girl killed herself, they didn’t say anything”</p>
        </div>
              <div class="card" data-link="/doorstops/poop.html" style="display: none;">
            <h2>Gross bathrooms</h2>
            <p>Nobody poopin.</p>
        </div>
              <div class="card" data-link="/programs/conversations" style="display: none;">
            <h2>No mental health help</h2>
            <p>"Guidance" counselors</p>
        </div>
              <div class="card" data-link="/doorstops/fundraising.html" style="display: none;">
            <h2>No money in the district</h2>
            <p>teachers are burnt out</p>
        </div>
              <div class="card" data-link="/doorstops/shift.html" style="display: none;">
            <h2>"You're a try-hard"</h2>
            <p>You get put down for caring.</p>
        </div>
        <div class="card" data-link="https://blog.benguzovsky.com/college" style="display: none;">
            <h2>COLLEGE APPLICATION STRESS</h2>
            <div class="tenor-gif-embed" data-postid="13813979" data-share-method="host" data-aspect-ratio="1.71724" data-width="100%"></div> <script type="text/javascript" async src="https://tenor.com/embed.js"></script>
            <br>
            <p>Click for some resources on how to navigate college applications! <br> Unless you're a freshman. What are you doing still reading, freshman.</p>
        </div>
              <div class="card" data-link="/doorstops/othercareers.html" style="display: none;">
            <h2>HS feels like a dead end</h2>
            <p>It’s McDonalds or fame</p>
        </div>
              <div class="card" data-link="doorstops/dominance.html" style="display: none;">
            <h2>Strictness</h2>
            <p>Trapped at your desk?</p>
        </div>
        <div class="card" data-link="https://waitwhythough.com" style="display: none;">
            <h2>What's the point of ____ class?</h2>
            <p>We're not learning what matters</p>
        </div>
              <div class="card" data-link="/doorstops/shift.html#enemy" style="display: none;">
            <h2>Social divides</h2>
            <p>rich/poor, black/white</p>
        </div>
        <div class="card" data-link="https://www.teenagegriefsucks.com/" style="display: none;">
            <h2>Living with losing a friend or loved one</h2>
            <img src="/assets/images/teengrief.png" alt="image1" />
            <br>
            <p></p>
            <p>Swipe right to go to a website with stories from other teenagers who lost a loved one.</p>
        </div>
        <div class="card" data-link="/doorstops/listen.html" style="display: none;">
            <h2>Emotional Availability is Sexy</h2>
            <!--<img src="/assets/images/moon.png" alt="image2" />-->
            <p>Ever been injured where you can kind of play but it hurts more every game? You know you should stop but the season seems so close.<br>That’s hard. <strong>School can feel the same way</strong>: you’re stuck on an assignment or you have no idea what’s going on in class, but stick it out, head down, and make it to the end of the semester.<br>But school’s different. If you <strong>ask for help</strong>, you don’t get taken out of the game, <strong>you get back in</strong>. You get better. Your teacher respects you more.<br>Everyone's struggled like this. Wanna hear professional athletes say it?</p>
        </div>
        <div class="card" data-link="/doorstops/getout.html" style="display: none;">
            <h2>Feel stuck in class?</h2>
            <div class="tenor-gif-embed" data-postid="13813979" data-share-method="host" data-aspect-ratio="1.71724" data-width="100%"></div> <script type="text/javascript" async src="https://tenor.com/embed.js"></script>
            <br>
            <p>We don't care if you're afraid to take a break or you've just taken <strong>WAY too many of them</strong>. <br>
            We can help you get consistent free time during class WHILE boosting the vibes with you and your teacher.</p>
            <h3>Become a lavatory mogul. Leverage the emotional stapler. Make the call.</h3>
        </div>
        <div class="card" data-link="/doorstops/poop.html" style="display: none;">
            <h2>No urinal dividers?</h2>
            <div class="tenor-gif-embed" data-postid="13813979" data-share-method="host" data-aspect-ratio="1.71724" data-width="100%"></div> <script type="text/javascript" async src="https://tenor.com/embed.js"></script>
            <br>
            <p>Why is nobody poopin' at your school?</p>
            <p>Don't worry, we got you.</p>
        </div>
        <div class="card" data-link="/doorstops/feedback.html" style="display: none;">
            <h2>Boring classes?</h2>
            <div class="tenor-gif-embed" data-postid="13813979" data-share-method="host" data-aspect-ratio="1.71724" data-width="100%"></div> <script type="text/javascript" async src="https://tenor.com/embed.js"></script>
            <br>
            <p>How to respond and change the culture.</p>
        </div>
        <div class="card" style="display: none;">
            <h2>Show me more about making class less boring</h2>
            <div class="tenor-gif-embed" data-postid="13813979" data-share-method="host" data-aspect-ratio="1.71724" data-width="100%"></div> <script type="text/javascript" async src="https://tenor.com/embed.js"></script>
            <br>
        </div>
        <div class="card" data-link="/doorstops/food.html" style="display: none;">
            <h2>Toxic comments about eating</h2>
            <div class="tenor-gif-embed" data-postid="13813979" data-share-method="host" data-aspect-ratio="1.71724" data-width="100%"></div> <script type="text/javascript" async src="https://tenor.com/embed.js"></script>
            <br>
            <p>How to respond and change the culture.</p>
        </div>
        
        <div class="card" id="more culture" style="display: none;">
            <h2>Show me more about changing school culture</h2>
            <div class="tenor-gif-embed" data-postid="13813979" data-share-method="host" data-aspect-ratio="1.71724" data-width="100%"></div> <script type="text/javascript" async src="https://tenor.com/embed.js"></script>
            <br>
        </div>
        <div class="card" data-link="/programs/eat.html" style="display: none;">
            <h2>Lunch awful?</h2>
            <div class="tenor-gif-embed" data-postid="13813979" data-share-method="host" data-aspect-ratio="1.71724" data-width="100%"></div> <script type="text/javascript" async src="https://tenor.com/embed.js"></script>
            <br>
            <p>Pull out your mini waffle maker, or we'll buy one for you.</p>
        </div>
        <div class="card" data-link="/time.html" style="display: none;">
            <h2>Is class a waste of time? Prove it and change it.</h2>
            <div class="tenor-gif-embed" data-postid="13813979" data-share-method="host" data-aspect-ratio="1.71724" data-width="100%"></div> <script type="text/javascript" async src="https://tenor.com/embed.js"></script>
            <br>
            <p>All it takes is pulling out your phone timer, tracking how much class time is productive, and leveraging our nationwide dataset to prove there's room for growth.</p>
        </div>
        <div class="card" data-link="/doorstops/points.html">
            <h2>If people arm wrestle for participation points at your school:</h2>
            <!--<img src="https://image2.com" alt="image2" />-->
            <p>That’s a problem. Seek help.<br><strong>How can we change GPA culture?</strong> Everyone is trying to get into college.<br><br>Organize a <strong>schoolwide participation point boycott</strong>. Nobody speaks in class until participation grading is equitable.<br><br>Build <a href="/trust.html">trust</a> then launch the <a href="/doorstops/points.html">boycott.</a>
                </p>
        </div>
        <div class="card" data-link="/doorstops/extension.html#i-just-want-to-email" contents="extension">
            <h2>Essay due in two days? Haven’t started?</h2>
            <img src="/assets/images/extension-half.gif" alt="image1" />
            <p>We can help—not, like, in a plagiarism way.<br>You can and should ask for an extension.<br>
            <h3>Me? I don’t need an extension. You must not be familiar with my game.</h3>
            <p>In 5 years your boss is going to say, "Bestie, can you work until 10pm today?"<br>Don't say "Sure, Bestie!" <strong>Learn to set boundaries and ask for help now.</strong></p>
        </div>
        <!--
        <div class="card" data-link="/doorstops/points.html">
        <blockquote class="tiktok-embed" cite="https://www.tiktok.com/@ahsokka_/video/7207198809548492037" data-video-id="7207198809548492037"  data-autoplay="true" style="min-width: 100%"> <section> <a target="_blank" title="@ahsokka_" href="https://www.tiktok.com/@ahsokka_?refer=embed">@ahsokka_</a> </section></blockquote> <script async src="https://www.tiktok.com/embed.js"></script>
        </div>
        -->
        <div class="card special">
            <h2>Swipe to change school</h2>
            <img src="/assets/images/moon.png" alt="image1" />
            <p>Swipe left (not interested) and right (yes PLEASE) until you find the perfect strategy/cash grant/vibe check for being happier in school.<br>
        </div>
    </div>
    <div id="swiped-right-section" style="display: none;">
        <ul id="swiped-right-list"></ul>
    </div>
    <div id="left-section" style="display: none;">
        <br><br>
        <div id="search-container">
            <input type="text" id="search-input" placeholder="Search Doorstops..." autocomplete="off">
            <div id="results-container"></div>         
        </div>
        <div id="content-placeholder"></div>

        <br><br>
    </div>

    <div id="navbar">
        <button id="nav1"><img class="nav-icon" id="img1" src="/assets/svg/Book_check.svg" alt="Icon 1" /></button>
        <button id="nav2"><img class="nav-icon" id="img2" src="/assets/svg/Lamp_fill.svg" alt="Icon 2" /></button>
        <button id="nav3"><img class="nav-icon" id="img3" src="/assets/svg/Favorite.svg" alt="Icon 3" /></button>
    </div>
    <script>

        </script>
    <script>
let searchInput = document.getElementById('search-input');
let resultsContainer = document.getElementById('results-container');

searchInput.addEventListener('keyup', function(e) {
    let searchQuery = e.target.value;

    // Fetch matching pages
    if (searchQuery) {fetch('pages.json')
        .then(response => response.json())
        .then(data => {
            let matches = data.filter(page => {
                // Check if any word in the search query is included in the h1 string
                let h1Match = searchQuery.toLowerCase().split(" ").some(queryWord => 
                page.h1.toLowerCase().includes(queryWord)
            );

            // Check if any word in the search query is included in any of the keywords
            let keywordMatch = searchQuery.toLowerCase().split(" ").some(queryWord => 
                page.keywords.some(keyword => 
                    keyword.toLowerCase().includes(queryWord)
                )
            );

            return h1Match || keywordMatch; // Return true if either match is found
        });

        displayResults(matches);
        });
    } else {
        clearResults();
    }
});

function clearResults() {
    while (resultsContainer.firstChild) {
        resultsContainer.firstChild.remove();
    }
}

function displayResults(matches) {
    // Clear any existing results
    while (resultsContainer.firstChild) {
        resultsContainer.firstChild.remove();
    }

    // Add new results
    matches.forEach(match => {
        let resultOption = document.createElement('div');
        resultOption.textContent = match.h1;
        resultOption.addEventListener('click', function() {
            // This assumes that you have a URL available for each page on a
            // `url` property. You may need to adjust this based on your
            // actual data structure.
            window.location.href = "/doorstops/" + match.name + ".html";
        });
        resultsContainer.appendChild(resultOption);
    });
}


    </script>

    <script>
// For each card
let swipedRight = JSON.parse(localStorage.getItem('swipedRight')) || [];  // load swiped right cards from localStorage

let deltaSwipe = 100;
// shortens swipe distance for mobile users
if (window.innerWidth < 1000) {
    deltaSwipe = 70;
}

document.querySelectorAll('.card').forEach((card, index) => {
    let hammertime = new Hammer(card);
    let initialPos = 0;
    let currentPos = 0;
    let rafId = null;

    // Animate the card moving - currently not being called
    function animate() {
        if(currentPos != 0) {
            let transform = `translateX(${currentPos}px)`;
            card.style.transform = transform;
            rafId = requestAnimationFrame(animate);
        }
    }

    // Update position as you pan and animate
    hammertime.on('pan', function(e) {
        if (Math.abs(e.deltaX) > Math.abs(e.deltaY)) { // Only respond to mostly horizontal movements, fixes issues on mobile
            currentPos = initialPos + e.deltaX;
        let transform = `translateX(${currentPos}px)`;
        card.style.transform = transform;
        } else {
        currentPos = 0;
    }
        
    });

    hammertime.on('panstart', function() {
        initialPos = currentPos;
        card.classList.remove('out');
    });

    hammertime.on('panend', function(e) {
        initialPos = currentPos;

        if (Math.abs(e.deltaX) > deltaSwipe) { // Change this threshold as you like
            // If you swipe more than 100px to the right or left, take action
            card.classList.add('out');
            if (e.deltaX > 0) {
                let cardLink = card.dataset.link;
                let cardcss = card.dataset.css;
                let cardid;
                if (cardLink) {
                    if (cardLink.includes("#")) {
                        cardid = cardLink.split('#')[1];
                    }
                    if (cardLink.startsWith('https://')) {
                        // Open external link in the same tab
                        window.location.href = cardLink;
                    } 
                    else {
                    setTimeout(() => {
                        fetch(cardLink)
                    .then(response => response.text())
                    .then(html => {
                        console.log(html);
                        // create a new DOMParser
                        let parser = new DOMParser();
                        // parse the text to a new document
                        let doc = parser.parseFromString(html, 'text/html');
                        // select the element with class 'yonk'
                        let yonkElement = doc.querySelector(".yonk");

                        let aboutElement = doc.querySelector(".about-content");
                        let article = doc.querySelector("article");
                        let body = doc.querySelector("body");

                        if (yonkElement) {
                            // put the content of 'yonk' element inside the placeholder
                            loadStylesheet("/assets/css/style.css");
                            document.querySelector("#content-placeholder").innerHTML = yonkElement.outerHTML;

                            // Remove the first five <br> tags
                            let brTags = document.querySelectorAll(".yonk > br");
                            for (let i = 0; i < 5 && i < brTags.length; i++) {
                                brTags[i].remove();
                            }
                            if (cardid) { // scroll to #ID
                                window.location.hash = cardid;
                            }
                        } else if (article) {
                            document.querySelector("#content-placeholder").innerHTML = article.outerHTML;
                        } else if (aboutElement) {
                            loadStylesheet("/assets/css/style.css");
                            document.querySelector("#content-placeholder").innerHTML = aboutElement.outerHTML;
                        } else {
                            loadStylesheet("/doorstops/food.css");
                            document.querySelector("#content-placeholder").innerHTML = body.outerHTML;
                            loadScript("/assets/js/food.js");
                        }
                        showSection(3);
                    })
                    .catch(err => console.log('Failed to load page: ', err));
                                
                    });
                }
                    swipedRight.push({
                    title: card.querySelector('h2').textContent,
                    link: card.dataset.link
                    });
                    localStorage.setItem('swipedRight', JSON.stringify(swipedRight));  // save to localStorage
                    
                }
                
            }
            let nextCard = card.previousElementSibling;
            let followingCard = nextCard.previousElementSibling;
            if (followingCard) {
                console.log('shown')
                followingCard.style.display = 'block';
            }
            card.style.opacity = '0';
            
            // After the transition ends, remove the card
            setTimeout(() => card.remove(), 100);
        } else {
            // If you don't swipe enough, the card springs back to center
            animate();
            currentPos = 0;
        }
        cancelAnimationFrame(rafId);
        rafId = null;
    });
});

function loadScript(src) {
    let script = document.createElement('script');
    script.src = src;
    script.async = true;
    document.head.appendChild(script);
}

function loadStylesheet(url) {
    var link = document.createElement("link");
    link.type = "text/css";
    link.rel = "stylesheet";
    link.href = url;
    document.getElementsByTagName("head")[0].appendChild(link);
} 

function removeStylesheet(href) {
    let link = document.querySelector(`link[href='${href}']`);
    if (link) {
        link.parentNode.removeChild(link);
    }
}


// Add event listeners to navbar icons
document.getElementById('nav1').addEventListener('click', function() { showSection(1); });
document.getElementById('nav2').addEventListener('click', function() { showSection(2); });
document.getElementById('nav3').addEventListener('click', function() { showSection(3); });

function showSection(n) {
    if (n === 2) {
        removeStylesheet("/assets/css/style.css");
        document.querySelector('#container').style.display = 'block';
        document.querySelector('#swiped-right-section').style.display = 'none';
        document.querySelector('#left-section').style.display = 'none';
        document.getElementById('img2').src = "/assets/svg/Lamp_fill.svg";
        document.getElementById('img1').src = "/assets/svg/Book_check.svg";
        document.getElementById('img3').src = "/assets/svg/Favorite.svg";
    } else if (n === 1) {
        document.querySelector('#container').style.display = 'none';
        document.querySelector('#left-section').style.display = 'none';
        let list = document.querySelector('#swiped-right-list');
        list.innerHTML = '';
        let l = 0;
        swipedRight.forEach(card => {
            let listItem = document.createElement('li');
            let link = document.createElement('a');
            // let button = document.createElement('button');
            link.href = card.link;
            link.textContent = card.title;
            link.target = '_blank';
            listItem.className = 'liked'
            listItem.appendChild(link);
            list.appendChild(listItem);
            // let dropdown = document.createElement('div');
            // if (l === 0) {
            //     fetch('pages.json')
            //     .then(response => response.json())
            //     .then(data => { data.filter(page => {
            //             if (page.name === card.contents) {
            //                 dropdown.textContent = page.html;
            //             }
            //         });
            //     });
            //     l++;
            // }
            // listItem.appendChild(dropdown);
        });
        removeStylesheet("/assets/css/style.css");
        document.querySelector('#swiped-right-section').style.display = 'block';
        document.getElementById('img2').src = "/assets/svg/Lamp.svg";
        document.getElementById('img1').src = "/assets/svg/Book_check_fill.svg";
        document.getElementById('img3').src = "/assets/svg/Favorite.svg";
    } else if (n === 3) {
        document.querySelector('#left-section').classList.add("fade-in");
        
        document.querySelector('#container').style.display = 'none';
        document.querySelector('#swiped-right-section').style.display = 'none';
        document.querySelector('#left-section').style.display = 'block';
        setTimeout(() => {
            document.querySelector('#left-section').classList.remove("fade-in");
        }, 500);
        document.getElementById('img2').src = "/assets/svg/Lamp.svg";
        document.getElementById('img1').src = "/assets/svg/Book_check.svg";
        document.getElementById('img3').src = "/assets/svg/Favorite_fill.svg";
            }
    // Add cases for other sections as needed
}

    </script>
  <script src="/assets/js/script.js" defer></script>
</body>

</html>
